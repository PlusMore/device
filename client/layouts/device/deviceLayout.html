<template name="deviceLayout">
  
  <div class="preloader">
    <div class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
  </div>

  <div id="perspective" class="perspective effect-persepctive-shift {{modalview}} {{showMenu}}">
    <div class="perspective-container">
      <img class="bg" alt='bg' src="{{hotelPhotoUrl}}" />
      <div class="overlay-bg black"></div>  
      {{> meteorErrors}}

      {{#if currentUser}}
        
        <div class="outer">
          <div class="holder">
            {{> yield}}
          </div>
        </div>

      {{else}}

        <div class="outer">
          <div class="holder">
            {{#if loggingIn}}
              {{> loggingInOverlay}}
            {{else}}
              {{> login}}
            {{/if}}    
          </div>
        </div>
        
      {{/if}}

    </div>

    {{> mainNav}}
    
  </div>

  <!-- Overlays -->
  {{#if currentUser}}
    {{> experience}}
    {{> addItemToCartModal}}
    {{> confirmReservation}}
  {{/if}}

  {{> idleOverlay}}

  <!-- {{> deviceHeader}} -->
  
  <div data-status="{{connectionStatus}}"></div>
</template>
